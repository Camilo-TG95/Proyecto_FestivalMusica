{"version":3,"sources":["app.js"],"names":["iniciarApp","crearGaleria","scrolNav","navegacionFija","params","barra","document","querySelector","sobreFestival","body","window","addEventListener","getBoundingClientRect","bottom","classList","add","remove","querySelectorAll","forEach","enlaces","e","preventDefault","seccionScroll","target","attributes","href","value","scrollIntoView","behavior","galeria","i","imagen","createElement","innerHTML","onclick","mostrarImagen","appendChild","id","overlay","cerrarModal","textContent"],"mappings":"AAQA,SAASA,aACLC,eACAC,WACAC,iBAIH,SAASA,eAAeC,GAGjB,MAAMC,EAAQC,SAASC,cAAc,WAC/BC,EAAgBF,SAASC,cAAc,mBAMvCE,EAAOH,SAASC,cAAc,QAGpCG,OAAOC,iBAAiB,UAAU,WAItBH,EAAcI,wBAAyBC,OAAS,GAChDR,EAAMS,UAAUC,IAAI,QACpBN,EAAKK,UAAUC,IAAI,iBAEnBV,EAAMS,UAAUE,OAAO,QACvBP,EAAKK,UAAUE,OAAO,mBAU1C,SAASd,SAASE,GACEE,SAASW,iBAAiB,2BAClCC,QAASC,IAEbA,EAAQR,iBAAkB,SAAS,SAASS,GACxCA,EAAEC,iBAGF,MAAMC,EAAgBF,EAAEG,OAAOC,WAAWC,KAAKC,MAI/BpB,SAASC,cAAce,GAC/BK,eAAgB,CAACC,SAAU,gBAS/C,SAAS3B,eACL,MAAM4B,EAAUvB,SAASC,cAAc,qBAIvC,IAAI,IAAIuB,EAAI,EAAGA,GAAK,GAAIA,IAAK,CACzB,MAAMC,EAASzB,SAAS0B,cAAc,WACtCD,EAAOE,UAAY,+CACeH,uEACAA,yGACkCA,8CAQpEC,EAAOG,QAAU,WAEbC,cAAcL,IAIlBD,EAAQO,YAAYL,IAO5B,SAASI,cAAcE,GACnB,MAAMN,EAASzB,SAAS0B,cAAc,WAClCD,EAAOE,UAAY,gDACgBI,wEACAA,0GACkCA,8CASrE,MAAMC,EAAUhC,SAAS0B,cAAc,OACvCM,EAAQF,YAAYL,GACpBO,EAAQxB,UAAUC,IAAI,WAMtBuB,EAAQJ,QAAU,WACD5B,SAASC,cAAc,QAC/BO,UAAUE,OAAO,cACtBsB,EAAQtB,UAMZ,MAAMuB,EAAcjC,SAAS0B,cAAc,KAC3CO,EAAYC,YAAc,IAC1BD,EAAYzB,UAAUC,IAAI,cAC1BwB,EAAYL,QAAU,WAEL5B,SAASC,cAAc,QAC/BO,UAAUE,OAAO,cACtBsB,EAAQtB,UAEZsB,EAAQF,YAAYG,GAGpB,MAAM9B,EAAOH,SAASC,cAAc,QACpCE,EAAK2B,YAAYE,GACjB7B,EAAKK,UAAUC,IAAI,cAjJ3BT,SAASK,iBAAiB,oBAAoB,WACtCX","file":"app.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\r\n        iniciarApp(); // Como se van a añadir otras funciones se coloca esta funcion aqui para que llame a las otras \r\n})                     // y no cargar este codigo. Si fuera un codigo que se ejecuta cuando esta listo se puede poner aqui\r\n\r\n/**Esta funcion arranca otras funciones, estas funciones se registran en el EventListener y se mandan a \r\n * llamar con la funcion iniciarApp\r\n  */\r\n\r\nfunction iniciarApp() { // Como vamos a tener diferentes funcipones creamos una especifica para las galerias \r\n    crearGaleria();\r\n    scrolNav();  // esta funcion es para que cuando se marque en los enlaces se deslice suave por la pagina(Smooth scroll)\r\n    navegacionFija(); // creamos una funcion para detectar cuanto scroll estamos dando, puede sirvir para varias cosas\r\n}\r\n\r\n// Aqui llamamos la funcion navegacionFija y la configuramos\r\n function navegacionFija(params) {\r\n    /** Aqui selecionamos un elemento de partida (el .header) y uno o mas elementos (section .sobre-festival) hacia los que se va a dar scroll \r\n     * para que los detecte  */\r\n        const barra = document.querySelector('.header'); \r\n        const sobreFestival = document.querySelector('.sobre-festival');\r\n    \r\n        /** (esta parte se añadio despues que la funcion de abajo) Para que cuando se fije la barra al bajar con el scroll no se mueva el contenido del html creamos una nueva variable (body) para \r\n         * asignarle una nueva clase al body cuando se active el evento de scroll y este a su vez corrija el tamaño del body dandole un padding y no se vea ese salto\r\n         * Importante es necesario ir a globales.scss para configurar la clase body-scroll que se creo y  a la clase fijo (que se creo abajo) del header y corregir la posicion\r\n         ( la clase se le añade en la funcion de abajo*/\r\n        const body = document.querySelector('body');\r\n\r\n        /**Aqui programamos un evento que va escuchar sobre el scroll y va a ejecutar un callback */\r\n        window.addEventListener('scroll', function () {\r\n          /** Ahora cramos una condicion con la funcion (getBoundingClientReact) que va a detectar el elemento cuando se este dando el scroll\r\n           * se pone bottom para que reaccione cuando pase la parte de abajo del elemento selecionando */  \r\n\r\n                if( sobreFestival.getBoundingClientRect() .bottom < 0) {\r\n                    barra.classList.add('fijo'); // Esto hace que cuando pasemos ese elemento se le va a asignar la clase de fijo a la barra \r\n                    body.classList.add('body-scroll'); // Esto hace que cuando pasemos ese elemento se le va a asignar la clase de body-scroll al body \r\n                } else {\r\n                    barra.classList.remove('fijo'); // remueve esa clase\r\n                    body.classList.remove('body-scroll'); // remueve esa clase\r\n                }\r\n                    // Ahora hay que ir al scss del header y configurar la clase de 'fijo'\r\n        });\r\n \r\n    }\r\n\r\n\r\n\r\n// Aqui se llama la funcion scrolNav y se le da codigo\r\nfunction scrolNav(params) {\r\n    const enlaces = document.querySelectorAll('.navegacion-principal a') // esta codigo selecciona todos los enlaces de la nevgacion\r\n    enlaces.forEach( enlaces => {  // Para iterar por cada uno del los enlaces para poder asociarle un eventListener a cada uno \r\n        // La que no se puede asociar un evento a un element o que traiga consigo varios como este caso que contiene tres enlaces\r\n        enlaces.addEventListener( 'click', function(e) {  // esta es la funcion del evento\r\n            e.preventDefault(); // esto quita el comportamiento por default para poder configurarle uno nuevo\r\n\r\n\r\n            const seccionScroll = e.target.attributes.href.value; // El (e.target.attributes.href.value) nos permite que nos de el valor \r\n            //del href de cada enlace, no se puede poner value solo porque es un elemento que contiene varios atributos. \r\n            //Se le asigno un variable (seccionScroll) para no tener que repetir de nuevo los mismo\r\n\r\n            const seccion = document.querySelector(seccionScroll); // Aqui se crea un nueva variable y se le asigna el valor del href de cada elemento\r\n            seccion.scrollIntoView( {behavior: 'smooth'}); //  este codigo le da el comportamiento que que se deslice suave a esta funcion\r\n        });\r\n    \r\n    });\r\n\r\n\r\n}\r\n\r\n\r\nfunction crearGaleria() { // Aqui seleccionamos en ul que va a contener la galeria con el querySelector\r\n    const galeria = document.querySelector('.galeria-imagenes');\r\n\r\n    // como son 12 imagenes las que se van a añadir a la galeria se utiliza un bucle for para que corra 12 veces\r\n    // este bucle for va a iterar sonbre las imagenes y va a ir creando el codigo html\r\n    for(let i = 1; i <= 12; i++) {\r\n        const imagen = document.createElement('picture'); // Este codigo va crear codigo HTML y lo va alojar en el index.html\r\n        imagen.innerHTML = `  \r\n        <source srcset=\"build/img/thumb/${i}.avif\" type=\"image/avif\">\r\n        <source srcset=\"build/img/thumb/${i}.webp\" type=\"image/webp\">\r\n        <img loading=\"lazy\" width=\"200\" heigth=\"300\" src=\"build/img/thumb/${i}.jpg\" alt=\"imagen galeria\">\r\n   \r\n        `;\r\n\r\n        /** Para poder dar click en una de las imagenes pequeñas y esta muestren la imagen grande correspondiente\r\n         *  con mejor resolucion se utiliza el siguiente codigo */\r\n        // creamos un callback con la funcion onclick\r\n        // se pone en forma de callback para poder pasarle el indice que se corresponde con el numero de la imagen\r\n        imagen.onclick = function(){\r\n\r\n            mostrarImagen(i);\r\n        }\r\n        \r\n       \r\n        galeria.appendChild(imagen);\r\n    }\r\n\r\n}\r\n\r\n// Aqui se manda a llamar la funcion que que va a mostrar la imagen correspondiente\r\n// se pone el id para que corresponda con el indice \r\nfunction mostrarImagen(id) { // el codigo para que muestre la imgen grade correspondiente es muy similar al que crea la galeria de arriba\r\n    const imagen = document.createElement('picture'); \r\n        imagen.innerHTML = `  \r\n        <source srcset=\"build/img/grande/${id}.avif\" type=\"image/avif\">\r\n        <source srcset=\"build/img/grande/${id}.webp\" type=\"image/webp\">\r\n        <img loading=\"lazy\" width=\"200\" heigth=\"300\" src=\"build/img/grande/${id}.jpg\" alt=\"imagen galeria\">\r\n   \r\n        `;\r\n\r\n        // Crear el Overlay con la imagen\r\n        /** Para crear le efecto que se oscurece la pantalla cuando se selecciona una imagen se utiliza \r\n         * el coodigo siguiente \r\n         */\r\n\r\n        const overlay = document.createElement('DIV'); // va a crear un div que contenga el overlay \r\n        overlay.appendChild(imagen); // agrega imagen al elemento overlay como un hijo\r\n        overlay.classList.add('overlay'); // se le asigna la clase overlay\r\n\r\n\r\n        /** Si queremos que se cierrra el overlay cuaando se de click en cualquier espacie se puede crear un funcion onclick y copiar todo el codigo de la funcion cerrar modal\r\n         * Esta parte se añadio despues \r\n         */\r\n        overlay.onclick = function() {\r\n            const body = document.querySelector('body'); // no importa que se cree otra variable body porque solo va a ser valida dento de la funcion\r\n            body.classList.remove('fijar-body');// cambiar el add por el remove\r\n            overlay.remove();\r\n\r\n        }\r\n\r\n\r\n        // Boton para cerrar la ventana Modal(el overlay)\r\n        const cerrarModal = document.createElement('P')\r\n        cerrarModal.textContent = 'X';\r\n        cerrarModal.classList.add('btn-cerrar');\r\n        cerrarModal.onclick = function(){ // Este codigo crea el evento de click para que cierre el overlay\r\n           \r\n            const body = document.querySelector('body'); // no importa que se cree otra variable body porque solo va a ser valida dento de la funcion\r\n            body.classList.remove('fijar-body');// cambiar el add por el remove\r\n            overlay.remove();\r\n        }\r\n        overlay.appendChild(cerrarModal);\r\n\r\n        // Añadirlo al html\r\n        const body = document.querySelector('body'); // se selecciona el cuerpo completo del html\r\n        body.appendChild(overlay); // se le asigna el overlay al body del html\r\n        body.classList.add('fijar-body'); // se crea esta clase para cuando de abra el overlay no se pueda mover la pagina\r\n        // esta clase solo va a estar disponible cuando se abra el overlay \r\n        /** para que lo anterior tenga efecto tenemos que ir a globales y añadirle el codigo de css para fijarlo */\r\n        /** Para que una vez que se cierre el overlay se pueda dar scroll nuevamente hay que eliminarle la clase de fijar-body al body\r\n         * Parar hacer esto podemos copiar el codigo anterior dentro de la funcion que remueve el overlay y cambiar el claslist.add\r\n         */\r\n    }\r\n\r\n\r\n"]}